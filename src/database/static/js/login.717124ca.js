"use strict";(self["webpackChunkproject"]=self["webpackChunkproject"]||[]).push([[535],{690:function(e,n,o){o.r(n),o.d(n,{default:function(){return w}});var t=o(8179),l=(o(6809),o(3396)),s=o(7139),i=o(4870),a=o(4308),r={BASEURL:"http://localhost:8000/api/",DJANGO_APP_URL:"inspection/"},u=o(1766);const c=(0,l.Uk)(" 请登录 "),g=(0,l._)("br",null,null,-1),m=(0,l.Uk)(" 您已经登录过了 ");var p=(0,l.aZ)({__name:"LoginView",setup(e){const n=encodeURIComponent(window.location.href),o=(0,i.iH)(sessionStorage.getItem("username")),p=()=>{console.log(r.BASEURL+"openid/login?next="+n),location.href=r.BASEURL+"openid/login?next="+n};return(0,a.O)().then((e=>{console.log(e),void 0===e?(sessionStorage.removeItem("username"),o.value=null):"username"in e&&(sessionStorage.setItem("username",e.username),o.value=e.username,u.Z.emit("is_login",!0))})),(e,n)=>{const i=t.mi;return(0,l.wg)(),(0,l.iD)("div",null,[null===o.value?((0,l.wg)(),(0,l.j4)(i,{key:0,size:"large",class:"login-btn",type:"primary",onClick:n[0]||(n[0]=e=>p())},{default:(0,l.w5)((()=>[c])),_:1})):((0,l.wg)(),(0,l.iD)(l.HY,{key:1},[(0,l._)("p",null," 尊敬的["+(0,s.zw)(o.value)+"]: ",1),g,(0,l.Wm)(i,{size:"large",class:"login-btn",disabled:"",type:"primary"},{default:(0,l.w5)((()=>[m])),_:1})],64))])}}});const d=p;var w=d},6809:function(e,n,o){o(1758)}}]);